<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Welcome to ExtJS Demo</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/extjs/6.2.0/classic/theme-classic/resources/theme-classic-all_1.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/extjs/6.2.0/ext-all.js"
        integrity="sha512-X2mCQagqg8+wbViIPeZPYY6ci/iBFNOQWEyKduIwsFLJN3fTxA6Fsh636+/VgE6RGBE6T8lvIAa7QxmZ423I7w=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.2.10/custom-elements-es5-adapter.js"></script>
    <script src="app.js"></script>    
    <script src="angular-list.js"></script>
    <!-- <script src="react-list.js"></script> -->
    <script src="http://localhost:5002/main.js"></script>
    <script type="text/javascript" src="https://unpkg.com/@cometchat-pro/chat@3.0.6/CometChat.js"></script>    
    <script src="const.js"></script>
    <link rel="stylesheet"
        href="/notifications.css">
    <script>
        var Ext=Ext || {};

        Ext.beforeLoad= function(tags){
            var s=location.search,profile;
            if(s.match(/\bclassic\b/)){
                profile="classic";
            }
            else if (s.match(/\bmorden\b/)) {
                profile = "morden";
            }else{
                profile=tags.desktop ? 'classic' : 'morden'
            }
            Ext.manifest = profile;
        }
    </script>
</head>

<body onload="tellComponents()">
    
    <div id="helloExt">
    </div>
    <div id="list-container">
    </div>
    <div id="react-container"></div>
    <!-- <react-custom-list></react-custom-list> -->
    <!-- Angular Custom List Component -->
    <div style="left: 0;right: 0;top: 0;bottom: 0;z-index: 9;background: #ffffff9e;">
        <!-- <div id="chatBox">
            <h2 class="chat-window-hedding">Chat Window</h2>
            <div class="chat-window">
                <div id="user-group" class="user-list">     
                    <ul id="grouplist"></ul>               
                    <ul id="userlist">
                    </ul>
                </div>
                <div class="messages-list">
                    <div id="currentmessage">
                        <p class="nouser">Select User</p>
                    </div>
                    <div class="chat-text-area">
                        <div class="loader"></div>
                        <textarea id="message"></textarea>
                        <button class="" onclick="sendMessage()">Send</button>
                    </div>
                </div>                
            </div>
            
        </div> -->
        <!-- <custom-list></custom-list> -->
        
    </div>
</body>
<script>
    function tellComponents() {

        const reactEl = document.createElement('react-el');

        reactEl.setAttribute('onHelloEvt', 'onHelloEvt');
        reactEl.addEventListener('onHelloEvt', (e) => helloEvent('React'));

        const reactElContainer = document.getElementById('react-container')
        if (reactElContainer) {
            if (reactElContainer?.children?.length > 0) {
                reactElContainer.removeChild(reactElContainer.children[0]);
            }
            reactElContainer.appendChild(reactEl);
        }

    }

    function helloEvent(who) {
        logMessage(who, 'hello');
    }

    function logMessage(source, msg) {
        const msgContainer = document.getElementById('messages');
        msgContainer.innerHTML += `<p><strong>${source}</strong> said ${msg}`;
    }

    
</script>
<script src="notifications.js"></script>
</html>